<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xinyue.server.dao.QuestionDao">	
	<select id="findPage" resultType="com.xinyue.server.model.Question">
		select m.id id ,  m.title title ,  date_format(m.created_time, '%Y-%m-%d %h-%i-%s') createtime ,  case m.status when 1 then '审核中' when 2 then '审核通过' when 3 then '审核失败' end sign , count(a.id) num
		from m_question_info m left join m_answer_info a on m.id = a.question_id where m.created_id = #{memberid} limit #{start} , #{pageSize}
	</select>
	
	<select id="getQuestionCount" resultType="int">
		select count(*)	from m_question_info m left join m_answer_info a on m.id = a.question_id where m.created_id = #{memberid}
	</select>
</mapper>